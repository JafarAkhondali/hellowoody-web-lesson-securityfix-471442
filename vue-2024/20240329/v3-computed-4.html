<!DOCTYPE html>
<html>
    <head>
        <title>v-for</title>
        <script src="../vue3/vue.js"></script>
    </head>
    <body>
        <div id="app">
            <div>人民币:{{yuan}}</div>
            <div>美元:{{dollar}}</div>
            <hr>
            <div>人民币：{{priceUnit("zh")}}</div>
            <div>美元：{{priceUnit("usa")}}</div>
            <div>日元：{{priceUnit("jan")}}</div>
            <div>韩元：{{priceUnit("ko")}}</div>
            <div>欧元{{priceUnit("eu")}}</div>
        </div>
    </body>
</html>
<script>
// 计算属性调用时要当成普通属性，不能加小括号
// 计算属性如果返回的一个函数,那么调用计算属性时就可以加小括号，并且传参，注意这个小括号是为了调用“函数值”的
Vue.createApp({
    setup(){

        const price = Vue.ref(100.00);  // {value:100.00}
        const yuan = Vue.computed(() => "¥" + price.value / 1)
        const dollar = Vue.computed(() => "$" + (price.value / 6).toFixed(2))

        const priceUnit = Vue.computed(() => {
            return country => {
                switch (country) {
                    case "zh":
                        return "¥" + price.value / 1
                        break;
                    case "usa":
                        return "$" + (price.value / 6).toFixed(2)
                        break;
                    case "jan":
                        return "¥" + (price.value * 20).toFixed(2)
                        break;
                    case "ko":
                        return "¥" + (price.value * 186).toFixed(2)
                        break;
                    default:
                        return "暂不支持该汇率"
                        break;
                }
            }
        })
        return {
            yuan,
            dollar,
            priceUnit
        }
    }
}).mount("#app")
</script>