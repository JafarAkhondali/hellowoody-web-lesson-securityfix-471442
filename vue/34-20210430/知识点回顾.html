<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>
    <body>
        <div id="app">
            <counter v-bind:count="countparent" v-on:increment="add" @derement="sub"></counter>
            <counter v-bind:count="countparent" @increment="add" @derement="sub"></counter>
            <counter ></counter>
        </div>
    </body>
</html>
<script>
// 声明组件
/*
    1.在组件的配置对象不需要配置el
    2.在组件中定义变量（配置data属性）时，它的value是函数
*/
// const Counter = Vue.extend({
//     data:function(){
//         return {
//             count:0
//         }
//     },
//     template:`
//         <div>
//             <div>{{count}}</div>
//             <button @click="add">+</button>
//             <button @click="sub">-</button>
//         </div>
//     `,
//     methods:{
//         add(){
//             this.count++
//         },
//         sub(){
//             this.count--
//         }
//     }
// })

const Counter = {
    // data:function(){
    //     return {
    //         count:0
    //     }
    // },
    // props:["count"],
    props:{
        count:{
            type:Number,
            default:-100
        }
    },
    template:`
        <div>
            <div>{{count}}</div>
            <button @click="add">+</button>
            <button @click="sub">-</button>
        </div>
    `,
    methods:{
        add(){
            // this.count++
            // this.$emit("标签中绑定的事件名字")
            this.$emit("increment")
        },
        sub(){
            // this.count--
            this.$emit("derement")
        }
    }
}

//全局注册
// Vue.component("counter",Counter)

new Vue({
    el:"#app",  // querySelector("")
    data:{
        msg:"hello",
        countparent:0
    },
    // 局部注册
    components:{
        // key:value 
        // "counter":Counter,
        // counter:Counter,
        // Counter:Counter,
        Counter, // js es语法key：value 名字相同时，可以只用一个
    },
    methods:{
        add(){
            this.countparent++
        },
        sub(){
            this.countparent--
        }
    }
})    
</script>