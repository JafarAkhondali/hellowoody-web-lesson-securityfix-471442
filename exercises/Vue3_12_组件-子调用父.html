<!DOCTYPE html>
<html>
    <head>
        <title>vue3 组件</title>
        <script src="https://unpkg.com/vue@next"></script>
    </head>
    <body>
        <div id="app"></div>
    </body>
</html>

<script>
const ChildComp = {
    template:`
        <h5>子组件调用父方法</h5>
        <button @click="handler">调用</button>
    `,
    emits:["print_handler"],
    setup(props,{emit}){
        const handler = () => {
            // console.log(1000,context)
            emit("print_handler")
        }
        return {
            handler
        }
    }
}

const ParentComp = {
    template:`
        <h1>父组件</h1>
        <!-- child-comp @事件名="父组件方法" ></child-comp -->
        <child-comp @print_handler="print" ></child-comp>
    `,
    components:{
        ChildComp,
    },
    setup(){
      const print = () => {
          console.log("this is parent comp func")
      }
      return{
        print
      }
    }
}

Vue.createApp(ParentComp).mount("#app")
</script>