<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>画板 canvas</title>
    </head>
    <body>
        <canvas id="c" style="background-color: yellow;"></canvas>
    </body>
</html>
<script>
const canvas = document.getElementById("c")
if(!canvas.getContext){
    // 不支持的时候
    const div = document.createElement("div")
    div.innerHTML = "你的浏览器不支持canvas"
    document.body.appendChild(div)
}else{
    const w = 500 ,h = 500;
    canvas.width = w;
    canvas.height = h;
    canvas.style.width = w+"px";
    canvas.style.height = h+"px";
    const ctx = canvas.getContext("2d");
    ctx.translate(w/2,h/2);
    ctx.scale(1,-1);
    /*
     x = 16 *（sint**3）
     y = 13cost-5cos2t-2cos3t-cos4t
    */
    const ticket = setInterval(() => renderHeart(),80)
    let deg = 0 , r_scale = 12 ,index = 0
    const cols = ["green","blue","red","orange","cyan","purple"]
    
    function renderHeart(){
        deg += 0.15
        if(index > 5){
            index = 0
        }
        const x = 16 * (Math.sin(deg) ** 3)
        const y = 13 * Math.cos(deg) - 5 * Math.cos(2*deg) - 2 * Math.cos(3*deg) - Math.cos(4*deg)
        ctx.beginPath();
        ctx.moveTo(0,0);
        ctx.lineTo(x*r_scale,y*r_scale)
        ctx.lineCap = "round"
        ctx.strokeStyle = 'rgba(0,0,255,0.6)'
        ctx.stroke()

        ctx.beginPath();
        ctx.arc(x*r_scale,y*r_scale,8,0,2*Math.PI)
        ctx.fillStyle = cols[index]
        ctx.fill()
        index++
        // console.log(deg)
        if(deg > 6){
            clearInterval(ticket)
        }
    }
    // let radius = 0;
    // function renderCir(){
    //     const old = radius;
    //     radius += 0.15;
    //     ctx.beginPath()
    //     ctx.arc(0,0,100,old,radius)
    //     ctx.lineWidth = 10; 
    //     ctx.stroke()
    // }
}


</script>