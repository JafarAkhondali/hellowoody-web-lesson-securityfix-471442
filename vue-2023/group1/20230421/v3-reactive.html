<!DOCTYPE html>
<html>
    <head>
        <title>watch</title>
        <script src="../vue3/vue.js"></script>
    </head>
    <body>
        <div id="app"></div>
    </body>
</html>
<script>

const Main = {
    setup(){
        // Vue3中的reactive，其实就是对Proxy的一层定制化的封装。
        // Vue3中的ref, 是对reactive的一层封装

        // reactive 在使用时只能接收对象或数组  {} / []

        const num  = 0 //不会被改变 静态变量

        const num_obj = Vue.reactive({
            value:num
        })

        const num_ref = Vue.ref(0) // {value:0}
        const obj_ref = Vue.ref({
            name:"张三",
            province:"河北省"
        }) 
        /*
            {
                value:{
                    name:"张三",
                    province:"河北省"
                }
            
            }
        */ 

        const obj = Vue.reactive({
            name:"张三",
            province:"河北省"
        })

        const arr = Vue.reactive(["a","b","c"])

        console.log("obj:",obj) // Proxy {}
        console.log("obj.name:",obj.name,"obj.province",obj.province)
        console.log("arr:",arr)
        console.log("arr[0]:",arr[0])
        console.log("arr[1]:",arr[1])
        console.log("arr[2]:",arr[2])
        for(let item of arr){
            console.log("for-of item:",item)
        }
        for(let i in arr){
            console.log("for-in index:",i)
        }

        return {
            num,
            obj,
            arr,
            num_obj,
            num_ref,
        }
    },
    template:`
        <h1>vue3-reactive</h1>
        <p>不会被改变：{{num}}</p>
        <p>{{num_obj.value}}</p>
        <p>会被改变:{{num_ref}}</p>
        <div>obj:{{obj}}</div> 
        <span>obj.name:{{obj.name}}</span>
        <span>obj.province:{{obj.province}}</span>
        <div>arr:{{arr}}</div> 
        <span v-for="item in arr">{{item}};</span>
    `
}
const app = Vue.createApp(Main)
app.mount("#app")
</script>