# 1.nodejs项目连接数据库（mongodb）

  ```
  1.安装连接数据库的driver的库（mongodb）

  2.创建一个连接数据库的公用的驱动页面 db/mongo.ts
    
        每次连接数据库，都是重新连接
        function(){
            return new MongoClient()
        }

  3.通过接口测试数据库连接

        db.runCommond({ping:1})

        const db = client.db("数据库的名字")
        db.commond({ping:1})

        await client.close()

  4.通过gql查询数据库

        nodejs通过驱动页面查询的结果是数据的话，通过toArray获取数据
        toArray() 是个异步方法 await xxx.toArray()

        
  ```

# 2.promise面试题

    ```
    new Promise((resolve,reject) => {
        // 这里面的代码，随着new Pomise时，同步的执行
    })
    ```

    ```
    setTimeout 宏任务 marco task

    promise    微任务 micro task

    微任务的优先级高
    ```

    ```
    new Promise((resolve,reject) => {
        resolve("ok")
    }).then(res => console.log(res))

    Promise.resolve("success").then(res => console.log(success))
    ```